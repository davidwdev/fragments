
**Apply Palette to Image**

A command line tool that takes one or more input image(s), a palette and generates an indexed color .PNG output matching the original. Optional Floyd–Steinberg dithering can be applied to improve the output quality.

The stb_image library is used to load images and libpng is used to write the output.

The palette should use .hex format. A simple format - newline separated 6 digit hex values in ASCII. I use palgen or aseprite to create them.

Usage:

```
 applypal.exe [-?]  [-dither] [-opaque|-transp] -pal <palette> <image>[...] [-o <file>]|[-outdir <folder>]

  -?                 This help.
  -dither            Apply error-diffusion dithering to output.
  -opaque            All palette indices are opaque [default]
  -transp            Make palette index 0 transparent.

  -pal <palette>     Palette file to use (in .HEX format)

  <image>[...]       Source image(s), wildcards supported.

  -o <file>          Specify an output file. Not supported with multiple images.
  -outdir <folder>   Specify an output folder. Ignored if -o is used.
```

---

Example 1:

> applypal -pal leaf.hex leaf.png -o leaf-pal.png -dither -transp

Source Image:

![leaf](example/leaf.png?raw=true "Leaf Photo")

Input Palette (generated by 'palgen'):

![palette](example/leaf.hex.png?raw=true "Leaf Palette")

Output Image:

![leaf](example/leaf-pal.png?raw=true "Leaf Output")

---

Example 2:

> applypal -pal mountain.hex -dither mountain.png -o mountain-pal.png

Source Image:

![mountain](example/mountain.png?raw=true "Mountain Photo")

Input Palette (generated by 'palgen'):

![palette](example/mountain.hex.png?raw=true "Mountain Palette")

Output Image:

![mountain](example/mountain-pal.png?raw=true "Mountain Output")



