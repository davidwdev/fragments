
**Apply Palette to Image**

A command line tool that takes one or more input image(s), a palette and generates an indexed color .PNG output matching the original. Optional Floyd–Steinberg dithering can be applied to improve the output quality.

The stb_image library is used to load images and libpng is used to write the output.

The palette should use .hex format. A simple format - newline separated 6 digit hex values in ASCII. I use palgen or aseprite to create them.

Usage:

```
 applypal.exe [-?]  [-dither] [-opaque|-transp] -pal <palette> <image>[...] [-o <file>]|[-outdir <folder>]

  -?                 This help.
  -dither            Apply error-diffusion dithering to output.
  -opaque            All palette indices are opaque [default]
  -transp            Make palette index 0 transparent.

  -pal <palette>     Palette file to use (in .HEX format)

  <image>[...]       Source image(s), wildcards supported.

  -o <file>          Specify an output file. Not supported with multiple images.
  -outdir <folder>   Specify an output folder. Ignored if -o is used.
```

---

Example 1:

> applypal -pal leaf.hex leaf.png -o leaf-pal.png -dither -transp

Input Palette (generated by 'palgen'):

![palette](example/leaf.hex.png?raw=true "Leaf Palette")

Source Image + Output Image:

![leaf](example/leaf-comp.png?raw=true "Leaf Input and Output")

---

Example 2:

> applypal -pal mountain.hex -dither mountain.png -o mountain-pal.png

Input Palette (generated by 'palgen'):

![palette](example/mountain.hex.png?raw=true "Mountain Palette")

Source Image + Output Image:

![mountain](example/mountain-comp.png?raw=true "Mountain Input and Output")

---

## Support Development

All support is greatly appreciated and encourages me to develop more open source projects!

➤ ☕ Buy me a Coffee: https://ko-fi.com/davidwdev

[![ko-fi](https://ko-fi.com/img/githubbutton_sm.svg)](https://ko-fi.com/B0B458231)

➤ |<sup>●</sup> Back me on︎ Patreon: https://www.patreon.com/davidwdev

[![Patreon](../patreon.svg?raw=true)](https://www.patreon.com/davidwdev)




